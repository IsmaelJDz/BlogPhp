{% extends "layout.twig" %}
{% block content %}
<h2>New Post</h2>
<p>
    <a class="btn btn-default" href="{{'admin/posts' | url }}">Back</a>
</p>
    {% if errors %}
        {% include('partials/errors.twig') %}
    {% endif %}

    {% if result %}
        <div class="alert alert-success">Post Saved</div>
    {% endif %}

    <form method="post" onsubmit="return validateForm()">

        <div class="form-group">
            <label for="inputTitle">Title</label>
            <input type="text" class="form-control" name="title" id="inputTitle">
        </div>

        <div class="form-group">
            <label for="inputImg">Image</label>
            <input type="text" class="form-control" name="img" id="inputImg">
        </div>

        <textarea name="content" class="form-control" rows="8" cols="80" id="inputContent"></textarea></br>

        <input class="btn btn-primary" type="submit" value="Save">
    </form>
{% endblock %}

{% block js %}
    <script>
        function validateForm(){

            var title = document.getElementById('inputTitle').value.trim();
            var content = document.getElementById('inputContent').value.trim();

            if (title === '' && content === '') {

                swal(
                    'Oops...',
                    'Titulo requerido y contenido',
                    'error'
                );
                return false;
            }


        }
    </script>
{% endblock %}
